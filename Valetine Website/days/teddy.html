<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üß∏ Teddy Day</title>

  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/day.css">

  <style>
    body {
      background: linear-gradient(to bottom, #f8cdda, #fbc2eb);
    }

    audio { display: none; }

    .teddy-hero img {
      width: 260px;
      border-radius: 20px;
      box-shadow: 0 0 35px rgba(255,105,180,0.6);
      margin: 25px 0;
    }

    .price-tag {
      font-size: 1rem;
      opacity: 0.9;
      margin-bottom: 30px;
    }

    /* üß† MEMORY GAME */
    .game-board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      max-width: 360px;
      margin: 30px auto;
    }

    .card {
      height: 100px;
      background: #fff;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(0,0,0,0.15);
      user-select: none;
    }

    .card.flipped {
      background: #ffdee9;
    }

    /* üß∏ NAME TEDDY */
    .name-box {
      margin: 35px 0;
      text-align: center;
    }

    .name-box input {
      padding: 10px 20px;
      border-radius: 25px;
      border: none;
      text-align: center;
      font-size: 1rem;
    }

    .name-box button {
      margin-top: 10px;
      padding: 8px 22px;
      border-radius: 25px;
      border: none;
      background: hotpink;
      color: white;
      cursor: pointer;
    }

    /* üèÜ RESULT */
    .result-box {
      display: none;
      margin-top: 40px;
      padding: 25px;
      background: rgba(18, 2, 2, 0.7);
      border-radius: 20px;
      text-align: center;
      animation: fadeIn 1s ease;
    }

    /* üß∏ RAIN */
    .rain {
      position: fixed;
      top: -40px;
      font-size: 28px;
      animation: fall linear infinite;
      z-index: 999;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
      }
    }
  </style>
</head>

<body>

<!-- üéµ MUSIC -->
<audio autoplay loop>
  <source src="../assets/sounds/romantic.mp3" type="audio/mpeg">
</audio>

<div class="day-page">

  <h1 class="day-title">üß∏ Teddy Day</h1>
  <p class="day-subtitle">Because every hug feels warmer with you</p>

  <!-- üß∏ TEDDY IMAGE -->
  <div class="teddy-hero">
    <img src="../assets/images/teddy.jpg" alt="My Teddy for You">
    <p class="price-tag">
      Teddy Price: ‚Çπ250<br>
      <em>But for you‚Ä¶ priceless ‚ù§Ô∏è</em>
    </p>
  </div>

  <!-- üíå MESSAGE -->
  <div class="day-card">
    <p class="day-message">
      My little teddy üß∏,<br><br>
      When I can‚Äôt hug you,<br>
      I wish this teddy could do it for me.<br><br>
      Win it and keep my hugs safe with you ‚ù§Ô∏è
    </p>
  </div>

  <!-- üìù SHAYARI -->
  <div class="day-card">
    <p class="day-message">
      ‡§Ø‡•á ‡§ü‡•á‡§°‡•Ä ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ñ‡§ø‡§≤‡•å‡§®‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à,<br>
      ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡•Ä ‡§¨‡§æ‡§π‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§∞‡•ç‡§Æ‡•Ä ‡§π‡•à,<br>
      ‡§ú‡§¨ ‡§Æ‡•à‡§Ç ‡§™‡§æ‡§∏ ‡§®‡§æ ‡§π‡•ã‡§ä‡§Å ‡§ï‡§≠‡•Ä,<br>
      ‡§á‡§∏‡•á ‡§ó‡§≤‡•á ‡§≤‡§ó‡§æ‡§®‡§æ ‚Äî ‡§Ø‡§π‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§ï‡§Æ‡•Ä ‡§π‡•à üß∏‚ù§Ô∏è<br><br>
      ‚Äî Aniket
    </p>
  </div>

  <!-- üéÆ MEMORY GAME -->
  <h2>üß† Save the Teddy</h2>
  <p>Match all pairs to bring the above teddy home üß∏</p>

  <div class="game-board" id="gameBoard"></div>

  <!-- üß∏ NAME THE TEDDY -->
  <div class="name-box">
    <p>Name our teddy üß∏</p>
    <input type="text" id="teddyName" placeholder="Enter teddy name">
    <br>
    <button onclick="saveName()">Save Name</button>
  </div>

  <!-- üèÜ RESULT -->
  <div class="result-box" id="resultBox"></div>

  <button class="back-btn" onclick="window.location.href='../journey.html'">
    ‚Üê Back to Our Journey
  </button>
</div>

<script>
/* üß† MEMORY GAME */
const symbols = ["üß∏","üß∏","‚ù§Ô∏è","‚ù§Ô∏è","üéÄ","üéÄ"];
let first=null, lock=false, matched=0;

symbols.sort(()=>0.5-Math.random());

const board=document.getElementById("gameBoard");

symbols.forEach(sym=>{
  const card=document.createElement("div");
  card.className="card";
  card.innerText="‚ùì";

  card.onclick=()=>{
    if(lock||card.classList.contains("flipped"))return;

    card.innerText=sym;
    card.classList.add("flipped");

    if(!first){
      first={card,sym};
    }else{
      lock=true;
      if(first.sym===sym){
        matched+=2;
        first=null;
        lock=false;
        if(matched===symbols.length)winTeddy();
      }else{
        setTimeout(()=>{
          card.innerText="‚ùì";
          card.classList.remove("flipped");
          first.card.innerText="‚ùì";
          first.card.classList.remove("flipped");
          first=null;
          lock=false;
        },900);
      }
    }
  };
  board.appendChild(card);
});

/* üèÜ WIN */
function winTeddy(){
  const box=document.getElementById("resultBox");
  box.style.display="block";
  box.innerHTML=`
    <h3>üéâ You saved the Teddy! üß∏</h3>
    You have officially won your Teddy Day gift ‚ù§Ô∏è<br><br>
    üì∏ Please take a screenshot and send it to me üíñ
  `;
  teddyRain();
}

/* üß∏ NAME */
function saveName(){
  const name=document.getElementById("teddyName").value;
  if(name){
    alert(`Our teddy is now named "${name}" üß∏‚ù§Ô∏è`);
  }
}

/* üß∏ RAIN */
function teddyRain(){
  for(let i=0;i<40;i++){
    const r=document.createElement("div");
    r.className="rain";
    r.innerText="üß∏";
    r.style.left=Math.random()*100+"vw";
    r.style.animationDuration=(3+Math.random()*3)+"s";
    document.body.appendChild(r);
    setTimeout(()=>r.remove(),6000);
  }
}
</script>

</body>
</html>
